(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){},269:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(0),s=a.n(n),r=a(12),i=a.n(r),o=(a(155),a(9)),l=a(52),j=a(11);a(156);var b=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"spin-wrapper",children:Object(c.jsxs)("div",{className:"spinner",children:[Object(c.jsx)("div",{className:"spinner-circle spinner-circle-outer"}),Object(c.jsx)("div",{className:"spinner-circle-off spinner-circle-inner"}),Object(c.jsx)("div",{className:"spinner-circle spinner-circle-single-1"}),Object(c.jsx)("div",{className:"spinner-circle spinner-circle-single-2"})]})})})},d=a(93),h=a.n(d),u=a(117),O=a(294),x=a(295),f=a(297),m=a(298),g=a(299),p=a(58),y=Object(O.a)({root:{width:"94vw",marginLeft:"auto",marginRight:"auto",marginBottom:"1vh",height:"36vh",display:"flex",flexDirection:"column",borderRadius:"2%"},headlineImage:{width:"100%",height:"24vh"},actionArea:{height:"90%"},cardActionsHead:{display:"flex",justifyContent:"flex-end"},button:{marginBottom:"auto",marginTop:"auto"},headlineText:{fontWeight:"600",width:"95%",marginLeft:"auto",marginRight:"auto",marginTop:"0.5vh"}});function v(e){var t=y(),a=Object(j.f)();return Object(c.jsxs)(x.a,{className:t.root,onClick:function(){e.setClickedStory(e.story),a.push("/story")},children:[Object(c.jsxs)(f.a,{className:t.actionArea,children:[Object(c.jsx)("img",{src:e.articleThumbnail.replace("h100","h300").replace("w100","w500"),alt:"Holder Text",className:t.headlineImage}),Object(c.jsx)(p.a,{gutterBottom:!0,variant:"h5",component:"h2",className:t.headlineText,children:e.story.title})]}),Object(c.jsx)(m.a,{className:t.cardActionsHead,children:Object(c.jsx)(g.a,{size:"small",color:"primary",className:t.button,children:"Read story"})})]})}a(162);var N=a(300),w=Object(O.a)({root:{width:"94vw",marginLeft:"auto",marginRight:"auto",marginBottom:"1vh",height:"20vh"},image:{width:"30%",height:"100%",borderRadius:"5%",marginLeft:"2vw"},rowOne:{display:"flex",justifyContent:"space-between",alignItems:"center"},actionArea:{height:"80%"},cardActions:{display:"flex",alignItems:"center",alignContent:"center",justifyContent:"flex-end"},button:{fontSize:12}});function S(e){var t=w(),a=Object(j.f)();return Object(c.jsxs)(x.a,{className:t.root,onClick:function(){e.setClickedStory(e.story),a.push("/story")},children:[Object(c.jsx)(f.a,{className:t.actionArea,children:Object(c.jsx)(N.a,{children:Object(c.jsxs)("div",{className:t.rowOne,children:[Object(c.jsx)("h3",{children:e.story.title}),Object(c.jsx)("img",{src:e.articleThumbnail,alt:"News Img",className:t.image})]})})}),Object(c.jsx)(m.a,{className:t.cardActions,children:Object(c.jsx)(g.a,{size:"small",color:"primary",className:t.button,children:"Read story"})})]})}var C=function(e){return Object(n.useEffect)(Object(u.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,fetch("/api/getStories").then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 3:t.t1=t.sent,t.t0.setStories.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t)}))),[]),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"Feed-container",children:[e.stories.map((function(t,a){if(0===a){var n="https://icon-library.com/images/news-icon-free/news-icon-free-7.jpg";return t.articles[0]&&(n=t.articles[0].image),Object(c.jsx)(v,{setClickedStory:e.setClickedStory,articleThumbnail:n,story:t},"")}return!1})),e.stories.map((function(t,a){if(0===a)return!1;var n="https://icon-library.com/images/news-icon-free/news-icon-free-7.jpg";return t.articles[0]&&(n=t.articles[0].image),Object(c.jsx)(S,{setClickedStory:e.setClickedStory,articleThumbnail:n,story:t},t._id)})),";"]})})};var k=function(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(C,{setClickedStory:e.setClickedStory,stories:e.stories,setStories:e.setStories})})},T=(a(163),a(164),a(301)),D=a(121),z=a.n(D);var A=function(e){return Object(c.jsx)(x.a,{className:"ArticleTileCardWrapper",children:Object(c.jsxs)("div",{className:"ArticleTileWrapper",children:[Object(c.jsx)("p",{className:"ArticleTileSource",children:e.article.source}),Object(c.jsx)("a",{href:e.article.link,target:"_blank",rel:"noreferrer noopener",className:"StoryAttribute",children:Object(c.jsxs)("div",{className:"RowOne",children:[Object(c.jsx)("div",{className:"TextOne",children:Object(c.jsx)("h2",{className:"ArticleTileTitle",children:e.article.title})}),Object(c.jsx)("img",{src:e.article.image,alt:e.article.subtitle,className:"ArticleTileImage"})]})}),Object(c.jsxs)("div",{className:"RowTwo",children:[Object(c.jsx)("p",{className:"ArticleTileTime",children:e.article.time}),Object(c.jsx)(T.a,{onClick:function(){e.setMenuState(!0)},children:Object(c.jsx)(z.a,{style:{fontSize:18}})})]})]})})};var L=function(e){var t=e.scrollColor,a=e.articles.map((function(t){return Object(c.jsx)("div",{className:"ArticleTile",children:Object(c.jsx)(A,{article:t,setMenuState:e.setMenuState,setSelectedStory:e.setSelectedStory})},t.title)}));return Object(c.jsx)("div",{className:"ArticleScrollWrapper",style:{backgroundColor:t},children:a})};a(166);var B=function(e){return Object(c.jsx)(x.a,{className:"StoryHeadCardWrapper",children:Object(c.jsxs)("div",{className:"StoryHeadWrapper",children:[Object(c.jsx)("img",{src:e.articleThumbnail.replace("h100","h300").replace("w100","w500"),alt:"Newsimage",className:"StoryHeadImage"}),Object(c.jsx)("div",{className:"StoryHeadTextWrap",children:Object(c.jsx)("h2",{className:"StoryHeadTitle",children:e.story.title})})]})})},W=(a(167),a(302)),R=a(317),E=a(123),F=a.n(E),P=a(124),I=a.n(P),H=a(122),M=a.n(H),U=Object(O.a)((function(e){return{paper:{width:"80vw",marginLeft:"auto",marginRight:"auto",position:"absolute",top:"25vh",left:"10vw",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3),borderRadius:"5%",outline:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",height:"40vh"},divider:{width:"95%"},iconContainer:{width:"100%",display:"flex",justifyContent:"space-around"},icons:{fontSize:35},bottomContainer:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"space-between"},bottomText:{fontSize:16,marginBottom:"2vh"},sourceText:{fontSize:15}}}));var Y=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),s=a[0],r=a[1],i=U();return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"ArticleStoryWrap",children:[Object(c.jsx)(B,{story:e.clickedStory,articleThumbnail:e.clickedStory.articles[0].image||"https://icon-library.com/images/news-icon-free/news-icon-free-7.jpg",setMenuState:r,className:"StoryHead"}),Object(c.jsx)(L,{articles:e.clickedStory.articles.filter((function(e){return 1===e.stance})),setMenuState:r,scrollColor:"#E11F1C"}),Object(c.jsx)(L,{articles:e.clickedStory.articles.filter((function(e){return 5===e.stance})),setMenuState:r,scrollColor:"rgb(160, 87, 160)"}),Object(c.jsx)(L,{articles:e.clickedStory.articles.filter((function(e){return 10===e.stance})),setMenuState:r,scrollColor:"#0195DF"})]}),Object(c.jsx)(R.a,{open:s,onClose:function(){r(!1)},children:Object(c.jsxs)("div",{className:i.paper,children:[Object(c.jsxs)("span",{children:[Object(c.jsx)("h3",{className:i.sourceText,children:e.clickedStory.source}),Object(c.jsx)("h1",{children:e.clickedStory.title})]}),Object(c.jsx)(W.a,{className:i.divider}),Object(c.jsxs)("div",{className:i.bottomContainer,children:[Object(c.jsx)("h2",{className:i.bottomText,children:"Share this via:"}),Object(c.jsxs)("div",{className:i.iconContainer,children:[Object(c.jsx)(T.a,{style:{backgroundColor:" #1DA1F2",color:"white"},children:Object(c.jsx)(M.a,{className:i.icons})}),Object(c.jsx)(T.a,{style:{backgroundColor:"#4267B2",color:"white"},children:Object(c.jsx)(F.a,{className:i.icons})}),Object(c.jsx)(T.a,{style:{backgroundColor:"grey",color:"white"},children:Object(c.jsx)(I.a,{className:i.icons})})]})]})]})})]})},_=a(8),G=a(4),J=a(36),q=a(319),K=a(306),Q=a(307),V=a(305),X=a(308),Z=a(73),$=a.n(Z),ee=a(74),te=a.n(ee),ae=a(75),ce=a.n(ae),ne=a(309),se=a(310),re=a(311),ie=a(304),oe=a(320),le=a(303),je=a.p+"static/media/logoBrain.18c624f6.svg",be=(a(101),a(77)),de=a.n(be),he=a(76),ue=a.n(he),Oe=Object(O.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen,background:"red"})},title:{flexGrow:1,fontSize:"1.6rem",color:"#364f6b",fontWeight:"bold"},menubutton:{height:"5vh",width:"5vw",color:"#364f6b"},hide:{display:"none"},drawer:{flexShrink:0},drawerPaper:{width:"43vw",overflow:"hidden"},drawerHeader:Object(_.a)(Object(_.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-start",height:"8.5vh"})}}));function xe(e){var t=e.children,a=e.window,n=Object(le.a)({target:a?a():void 0});return Object(c.jsx)(ie.a,{appear:!1,direction:"down",in:!n,children:t})}function fe(e){var t=Oe(),a=Object(J.a)(),n=s.a.useState(!1),r=Object(o.a)(n,2),i=r[0],l=r[1];return Object(c.jsxs)("div",{className:t.root,children:[Object(c.jsx)(V.a,{}),Object(c.jsx)(xe,Object(_.a)(Object(_.a)({},e),{},{children:Object(c.jsxs)(K.a,{position:"fixed",className:Object(G.a)(t.appBar),style:{background:"#FAF9F8"},children:[Object(c.jsxs)(Q.a,{children:[Object(c.jsx)("a",{href:"/",children:Object(c.jsx)("img",{src:je,alt:"logo",className:"NavBarLogo"})}),Object(c.jsx)(p.a,{variant:"h6",noWrap:!0,className:t.title,children:"Anchored News"}),Object(c.jsx)(T.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:function(){l(!0)},className:Object(G.a)(i&&t.hide),children:Object(c.jsx)($.a,{className:t.menubutton})})]}),Object(c.jsx)("div",{className:"NavBarColorLine"})]})})),Object(c.jsxs)(q.a,{className:t.drawer,variant:"persistent",anchor:"right",open:i,classes:{paper:t.drawerPaper},children:[Object(c.jsx)("div",{className:t.drawerHeader,children:Object(c.jsx)(T.a,{onClick:function(){l(!1)},children:"rtl"===a.direction?Object(c.jsx)(te.a,{}):Object(c.jsx)(ce.a,{style:{fontSize:25}})})}),Object(c.jsx)(W.a,{}),Object(c.jsx)(X.a,{children:["Edward Chan"].map((function(e,t){return Object(c.jsxs)(ne.a,{button:!0,children:[Object(c.jsx)(se.a,{children:Object(c.jsx)(oe.a,{children:"Ed"})}),Object(c.jsx)(re.a,{primary:Object(c.jsx)(p.a,{type:"body2",style:{fontSize:14,fontWeight:"700"},children:e}),style:{fontSize:20}})]},e)}))}),Object(c.jsx)(X.a,{children:["Profile","Analytics"].map((function(e,t){return Object(c.jsxs)(ne.a,{button:!0,children:[Object(c.jsx)(se.a,{children:Object(c.jsx)(ue.a,{style:{fontSize:20}})}),Object(c.jsx)(re.a,{primary:Object(c.jsx)(p.a,{type:"body2",style:{fontSize:14,fontWeight:"700"},children:e}),style:{fontSize:20}})]},e)}))}),Object(c.jsx)(W.a,{}),Object(c.jsx)(X.a,{children:["Donate","About Us","Terms & Conditions","Logout"].map((function(e,t){return Object(c.jsxs)(ne.a,{button:!0,children:[Object(c.jsx)(se.a,{children:Object(c.jsx)(de.a,{style:{fontSize:20}})}),Object(c.jsx)(re.a,{primary:Object(c.jsx)(p.a,{type:"body2",style:{fontSize:14,fontWeight:"700"},children:e}),style:{fontSize:20}})]},e)}))})]})]})}var me=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(fe,{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("h1",{children:"404 - Page not found"})]})},ge=(a(168),a(44)),pe=a(322),ye=a(321),ve=a(312),Ne=a(313),we=a(318),Se=Object(O.a)((function(e){return{root:{display:"flex"},formControl:{margin:e.spacing(3)},formControlLabel:{fontSize:17}}}));function Ce(){var e=Se(),t=s.a.useState({world:!1,business:!1,health:!1,tech:!1,sport:!1,entertainment:!1,science:!1}),a=Object(o.a)(t,2),n=a[0],r=a[1],i=function(e){r(Object(_.a)(Object(_.a)({},n),{},Object(ge.a)({},e.target.name,e.target.checked)))},l=n.world,j=n.business,b=n.health,d=n.tech,h=n.sport,u=n.entertainment,O=n.science;return Object(c.jsx)("div",{className:e.root,children:Object(c.jsxs)(ye.a,{component:"fieldset",className:e.formControl,children:[Object(c.jsx)(pe.a,{component:"legend",children:"Select News to Display"}),Object(c.jsxs)(ve.a,{children:[Object(c.jsx)(Ne.a,{control:Object(c.jsx)(we.a,{checked:l,onChange:i,name:"world"}),label:Object(c.jsx)(p.a,{className:e.formControlLabel,children:"World"})}),Object(c.jsx)(Ne.a,{control:Object(c.jsx)(we.a,{checked:j,onChange:i,name:"business"}),label:Object(c.jsx)(p.a,{className:e.formControlLabel,children:"Business"})}),Object(c.jsx)(Ne.a,{control:Object(c.jsx)(we.a,{checked:b,onChange:i,name:"health"}),label:Object(c.jsx)(p.a,{className:e.formControlLabel,children:"Health"})}),Object(c.jsx)(Ne.a,{control:Object(c.jsx)(we.a,{checked:d,onChange:i,name:"tech"}),label:Object(c.jsx)(p.a,{className:e.formControlLabel,children:"Tech"})}),Object(c.jsx)(Ne.a,{control:Object(c.jsx)(we.a,{checked:h,onChange:i,name:"sport"}),label:Object(c.jsx)(p.a,{className:e.formControlLabel,children:"Sport"})}),Object(c.jsx)(Ne.a,{control:Object(c.jsx)(we.a,{checked:u,onChange:i,name:"entertainment"}),label:Object(c.jsx)(p.a,{className:e.formControlLabel,children:"Entertainment"})}),Object(c.jsx)(Ne.a,{control:Object(c.jsx)(we.a,{checked:O,onChange:i,name:"science"}),label:Object(c.jsx)(p.a,{className:e.formControlLabel,children:"Science"})})]})]})})}var ke=Object(O.a)((function(e){return{root:{display:"flex"},formControl:{margin:e.spacing(3)},formControlLabel:{fontSize:17}}}));function Te(){var e=ke(),t=s.a.useState({weeklyNews:!1,monthlyNews:!1}),a=Object(o.a)(t,2),n=a[0],r=a[1],i=function(e){r(Object(_.a)(Object(_.a)({},n),{},Object(ge.a)({},e.target.name,e.target.checked)))},l=n.weeklyNews,j=n.monthlyNews;return Object(c.jsx)("div",{className:e.root,children:Object(c.jsxs)(ye.a,{component:"fieldset",className:e.formControl,children:[Object(c.jsx)(pe.a,{component:"legend",children:"Select News to Display"}),Object(c.jsxs)(ve.a,{children:[Object(c.jsx)(Ne.a,{control:Object(c.jsx)(we.a,{checked:l,onChange:i,name:"weeklyNews"}),label:Object(c.jsx)(p.a,{className:e.formControlLabel,children:"Weekly"})}),Object(c.jsx)(Ne.a,{control:Object(c.jsx)(we.a,{checked:j,onChange:i,name:"monthlyNews"}),label:Object(c.jsx)(p.a,{className:e.formControlLabel,children:"Monthly"})})]})]})})}var De=function(){return Object(c.jsxs)("div",{className:"ProfileWrapper",children:[Object(c.jsxs)("div",{className:"profileRow",children:[Object(c.jsxs)("span",{className:"AvatarName",children:[Object(c.jsx)(oe.a,{children:"H"}),Object(c.jsx)("h4",{className:"ProfilePageName",children:"Edward Chan"})]}),Object(c.jsx)("p",{children:"edwardklc1993@gmail.com"})]}),Object(c.jsx)(W.a,{}),Object(c.jsxs)("div",{className:"profileRow",children:[Object(c.jsx)("h5",{children:"Objective Score"}),Object(c.jsx)("h1",{children:"5"})]}),Object(c.jsx)(W.a,{}),Object(c.jsxs)("div",{className:"profileColumn",children:[Object(c.jsx)("h5",{className:"ProfileHeaderNews",children:"NewsLetter Preferences"}),Object(c.jsx)("div",{className:"profileCheckBoxWrap",children:Object(c.jsx)(Te,{})})]}),Object(c.jsx)(W.a,{}),Object(c.jsxs)("div",{className:"profileColumn",children:[Object(c.jsx)("h5",{className:"ProfileHeaderNews",children:"News Settings"}),Object(c.jsx)("div",{className:"profileCheckBoxWrap",children:Object(c.jsx)(Ce,{})})]}),Object(c.jsx)(W.a,{})]})};a(169);var ze=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("iframe",{className:"donorForm",title:"donatePlease",allowpaymentrequest:"",frameBorder:"0",name:"donorbox",scrolling:"yes",seamless:"seamless",src:"https://donorbox.org/embed/anchored-news"})})},Ae=(a(170),a(45));a(266);var Le=function(e){for(var t=[],a=[],s=0;s<e.publisherData.length;s++)t.push(e.publisherData[s][0]),a.push(e.publisherData[s][1]);var r=Object(n.useState)({}),i=Object(o.a)(r,2),l=i[0],j=i[1];return Object(n.useEffect)((function(){j({labels:t,datasets:[{data:a,backgroundColor:["#F18188","#EB8EB5","#CEA4DB","#9DBDF0","#64D3ED","#48E3D4","#70EDAD","#AEF184","#EFEE69"]}],borderWidth:0})}),[e]),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(Ae.Doughnut,{data:l,options:{responsive:!0,maintainAspectRatio:!1,title:{display:!0,text:"Top 10 most read publisher",fontSize:15},legend:{position:"bottom",labels:{boxWidth:10,fontSize:11}},cutoutPercentage:40,borderWidth:1}})})};var Be=function(e){console.log("in Radar",e);var t=Object(n.useState)({}),a=Object(o.a)(t,2),s=a[0],r=a[1];return Object(n.useEffect)((function(){!function(){var t=Object.keys(e.interestData),a=Object.values(e.interestData);console.log(t),console.log(a),r({labels:t,datasets:[{label:"Categories",data:a}]})}()}),[e]),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(Ae.Radar,{data:s,options:{responsive:!0,mainAspectRatio:!0,title:{display:!0,text:"Your Interest"},legend:{display:!1,position:"right",labels:{boxWidth:10,fontSize:13},layout:{padding:{left:0,right:0,top:0,bottom:0}}}}})})};a(267);var We=function(e){for(var t={},a=0;a<e.userData.length;a++)if(10===e.userData[a].stance){t.Right=t.Right?t.Right+1:1}else if(1===e.userData[a].stance){t.Left=t.Left?t.Left+1:1}else if(5===e.userData[a].stance){t.Middle=t.Middle?t.Middle+1:1}else if(11===e.userData[a].stance){var s="Not defined";t[s]=t[s]?t[s]+1:1}var r=Object(n.useState)({}),i=Object(o.a)(r,2),l=i[0],j=i[1];return Object(n.useEffect)((function(){!function(){var e=Object.keys(t),a=Object.values(t);j({labels:e,datasets:[{label:"Stance",data:a,backgroundColor:["rgb(1, 149, 223)","#fc5185","#c4c4c4","#eeeeee"],borderWidth:1}]})}()}),[e]),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"Polarchart-container",children:Object(c.jsx)(Ae.Polar,{data:l,options:{responsive:!0,maintainAspectRatio:!1,title:{display:!0,text:"Political stance",fontSize:15},legend:{position:"right",labels:{boxWidth:10,fontSize:13}}}})})})};var Re=function(e){console.log(e);var t=Object(n.useState)([]),a=Object(o.a)(t,2),s=a[0],r=a[1],i=Object(n.useState)({}),l=Object(o.a)(i,2),j=l[0],d=l[1],h=Object(n.useState)([]),u=Object(o.a)(h,2),O=u[0],x=u[1],f=Object(n.useState)({}),m=Object(o.a)(f,2),g=m[0],p=m[1],y=Object(n.useState)([]),v=Object(o.a)(y,2),N=v[0],w=v[1],S=function(){var e={};e.userstance=j.userstance,e.opacity=j.opacity;switch(e.userstance){case"slightly centre-right":return{backgroundColor:"rgb(168, 226, 255, ".concat(e.opacity,")")};case"centre-right":return{backgroundColor:"rgb(1, 149, 223, ".concat(e.opacity,")")};case"slightly centre-left":return{backgroundColor:"rgb(250, 174, 173, ".concat(e.opacity,")")};case"centre-left":return{backgroundColor:"rgb(225, 31, 28 ".concat(e.opacity,")")};default:return{backgroundColor:"rgb(238, 238, 238)"}}}();return Object(n.useEffect)((function(){var t=function(){for(var t=[],a=0;a<e.loginUser.article.length;a++){var c={};c.stance=e.loginUser.article[a].stance,c.source=e.loginUser.article[a].source,t.push(c)}return t}();r(t),t.length>30&&d(function(e){var t=function(e){for(var t={},a=0;a<e.length;a++)if(10===e[a].stance)t.Right=t.Right?t.Right+1:1;else if(1===e[a].stance)t.Left=t.Left?t.Left+1:1;else if(5===e[a].stance)t.Middle=t.Middle?t.Middle+1:1;else if(11===e[a].stance){var c="Not defined";t[c]=t[c]?t[c]+1:1}return t}(e),a=t.Right,c=t.Left,n=a/(a+c),s=c/(a+c),r={},i="";return i=n>.5?"slightly centre-right":n>.8?"centre-right":s>.5?"slightly centre-left":s>.8?"centre-left":"middle",r.opacity=Math.max(s,n),r.userstance=i,r}(t));var a=function(e){for(var t={},a=0;a<e.length;a++)"businesses"===e[a].category?t.businesses=t.businesses?t.businesses+1:1:"entertainments"===e[a].category?t.entertainments=t.entertainments?t.entertainments+1:1:"health"===e[a].category?t.health=t.health?t.health+1:1:"sciences"===e[a].category?t.sciences=t.sciences?t.sciences+1:1:"sports"===e[a].category?t.sports=t.sports?t.sports+1:1:"technologies"===e[a].category?t.technologies=t.technologies?t.technologies+1:1:"worlds"===e[a].category?t.worlds=t.worlds?t.worlds+1:1:"uk"===e[a].category&&(t.headline=t.headline?t.headline+1:1);return t}(e.loginUser.article);console.log(a);var c=Object.keys(a).map((function(e){return[e,a[e]]}));c.sort((function(e,t){return t[1]-e[1]})),p(a),w(c);var n=function(e){for(var t=[],a=0;a<e.length;a++){var c={};c.stance=e[a].stance,c.source=e[a].source,t.push(c)}for(var n={},s=0;s<t.length;s++){var r=t[s].source;r in n?n[r]+=1:n[r]=1}return n}(t),s=Object.keys(n).map((function(e){return[e,n[e]]}));s.sort((function(e,t){return t[1]-e[1]})),x(s.slice(0,10))}),[]),console.log(N),e?Object(c.jsxs)("div",{className:"totalsummary-wrapper",style:S,children:[Object(c.jsx)("h1",{children:"Summary"}),Object(c.jsxs)("h2",{children:["You have read a total of ",s.length," articles so far"]}),Object(c.jsxs)("div",{className:"polarchart-container",children:[Object(c.jsx)(We,{loginUser:e.loginUser,userData:s,setUserdata:r}),Object(c.jsxs)("h3",{children:["Your reading habits are ",j.userstance]})]}),Object(c.jsxs)("div",{className:"radarchart-container",children:[Object(c.jsx)(Be,{loginUser:e.loginUser,interestData:g,setInterestData:p}),Object(c.jsxs)("h3",{children:["Your main interest is ",0===N.length?null:N[0][0]," "]})]}),Object(c.jsxs)("div",{className:"doughnutchart-container",children:[Object(c.jsx)(Le,{loginUser:e.loginUser,publisherData:O,setPublisherData:x}),Object(c.jsxs)("h3",{children:["Your favourite publisher is ",0===O.length?null:O[0][0]]})]})]}):Object(c.jsx)(b,{})},Ee=(a(268),a(125)),Fe=a.n(Ee),Pe="45vw",Ie=Object(O.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},title:{flexGrow:1,fontSize:"1.6rem",color:"#364f6b",fontWeight:"bold"},menubutton:{color:"white",justifySelf:"flex-end"},open:{backgroundColor:"black",opacity:.5,justifySelf:"flex-end"},arrowBackIcon:{color:"white",justifyContent:"flex-start"},toolbar:{display:"flex",flex:1,justifyContent:"space-between",width:"95%",backgroundColor:"transparent",marginLeft:"auto",marginRight:"auto"},shareIcon:{backgroundColor:"black",opacity:.5,margin:"2vw"},drawer:{width:Pe,flexShrink:0},drawerPaper:{width:Pe},shareIconPic:{color:"white"},drawerHeader:Object(_.a)(Object(_.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-start"}),backButton:{backgroundColor:"black",opacity:.5,justifySelf:"flex-start"},content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginRight:NaN},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}}));function He(e){var t=Ie(),a=Object(J.a)(),n=s.a.useState(!1),r=Object(o.a)(n,2),i=r[0],l=r[1],b=Object(j.f)();return Object(c.jsxs)("div",{className:t.root,children:[Object(c.jsx)(V.a,{}),Object(c.jsx)(K.a,{position:"fixed",className:Object(G.a)(t.appBar),style:{background:"transparent"},elevation:0,children:Object(c.jsxs)(Q.a,{className:t.toolbar,children:[Object(c.jsx)(T.a,{className:t.backButton,onClick:b.goBack,children:Object(c.jsx)(Fe.a,{className:t.arrowBackIcon})}),Object(c.jsx)("div",{children:Object(c.jsx)(T.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:function(){l(!0)},className:t.open,children:Object(c.jsx)($.a,{className:t.menubutton})})})]})}),Object(c.jsxs)(q.a,{className:t.drawer,variant:"persistent",anchor:"right",open:i,classes:{paper:t.drawerPaper},children:[Object(c.jsx)("div",{className:t.drawerHeader,children:Object(c.jsx)(T.a,{onClick:function(){l(!1)},children:"rtl"===a.direction?Object(c.jsx)(te.a,{}):Object(c.jsx)(ce.a,{})})}),Object(c.jsx)(W.a,{}),Object(c.jsx)(X.a,{children:["Edward Chan"].map((function(e,t){return Object(c.jsxs)(ne.a,{button:!0,children:[Object(c.jsx)(se.a,{children:Object(c.jsx)(oe.a,{children:"Ed"})}),Object(c.jsx)(re.a,{primary:Object(c.jsx)(p.a,{type:"body2",style:{fontSize:14,fontWeight:"700"},children:e}),style:{fontSize:20}})]},e)}))}),Object(c.jsx)(X.a,{children:["Analytics","Settings"].map((function(e,t){return Object(c.jsxs)(ne.a,{button:!0,children:[Object(c.jsx)(ue.a,{}),Object(c.jsx)(re.a,{primary:Object(c.jsx)(p.a,{type:"body2",style:{fontSize:14,fontWeight:"700"},children:e}),style:{fontSize:20}})]},e)}))}),Object(c.jsx)(W.a,{}),Object(c.jsx)(X.a,{children:["Donate","About Us","Terms & Conditions","Logout"].map((function(e,t){return Object(c.jsxs)(ne.a,{button:!0,children:[Object(c.jsx)(se.a,{children:Object(c.jsx)(de.a,{})}),Object(c.jsx)(re.a,{primary:Object(c.jsx)(p.a,{type:"body2",style:{fontSize:14,fontWeight:"700"},children:e}),style:{fontSize:20}})]},e)}))})]})]})}a(126);var Me=a(316),Ue=a(314);a(315);function Ye(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var _e=Object(O.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:"100vw"},Tab:{fontSize:13},indicator:{backgroundColor:"#0195df"}}}));function Ge(){var e=_e(),t=s.a.useState(0),a=Object(o.a)(t,2),n=a[0],r=a[1];return Object(c.jsx)("div",{className:e.root,children:Object(c.jsx)(K.a,{position:"static",color:"default",children:Object(c.jsxs)(Me.a,{value:n,onChange:function(e,t){r(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on",classes:{indicator:e.indicator},children:[Object(c.jsx)(Ue.a,Object(_.a)(Object(_.a)({label:"UK"},Ye(0)),{},{className:e.Tab})),Object(c.jsx)(Ue.a,Object(_.a)(Object(_.a)({label:"World"},Ye(1)),{},{className:e.Tab})),Object(c.jsx)(Ue.a,Object(_.a)(Object(_.a)({label:"Entertainment"},Ye(2)),{},{className:e.Tab})),Object(c.jsx)(Ue.a,Object(_.a)(Object(_.a)({label:"Tech"},Ye(3)),{},{className:e.Tab})),Object(c.jsx)(Ue.a,Object(_.a)(Object(_.a)({label:"Science"},Ye(4)),{},{className:e.Tab})),Object(c.jsx)(Ue.a,Object(_.a)(Object(_.a)({label:"Sport"},Ye(5)),{},{className:e.Tab})),Object(c.jsx)(Ue.a,Object(_.a)(Object(_.a)({label:"Health"},Ye(6)),{},{className:e.Tab}))]})})})}var Je=function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)([]),i=Object(o.a)(r,2),d=i[0],h=i[1],u=Object(n.useState)({}),O=Object(o.a)(u,2),x=O[0],f=O[1];return Object(n.useEffect)((function(){fetch("/auth/current-user").then((function(e){return e.json()})).catch((function(e){return console.log("in here",e)})).then((function(e){s(e)})).catch((function(e){return console.log(e)}))}),[]),Object(c.jsx)(l.a,{children:Object(c.jsxs)(j.c,{children:[Object(c.jsxs)(j.a,{exact:!0,path:"/",children:[" ",Object(c.jsx)(fe,{}),Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)(Ge,{}),Object(c.jsx)(k,{setClickedStory:f,stories:d,setStories:h})]})]}),Object(c.jsx)(j.a,{exact:!0,path:"/story",children:x._id?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(He,{}),Object(c.jsx)(Y,{clickedStory:x})]}):Object(c.jsx)(me,{})}),Object(c.jsxs)(j.a,{exact:!0,path:"/donate",children:[Object(c.jsx)(fe,{}),Object(c.jsx)("div",{className:"content",children:Object(c.jsx)(ze,{})})]}),Object(c.jsxs)(j.a,{exact:!0,path:"/profile",children:[Object(c.jsx)(fe,{}),Object(c.jsx)("div",{className:"content",children:Object(c.jsx)(De,{})})]}),a&&a._id?Object(c.jsx)(j.a,{exact:!0,path:"/analytics",children:Object(c.jsx)(Re,{loginUser:a||Object(c.jsx)(b,{})})}):null,Object(c.jsxs)(j.a,{exact:!0,path:"/404",children:[" ",Object(c.jsx)(me,{})]}),Object(c.jsxs)(j.a,{path:"/",children:[" ",Object(c.jsx)(me,{})]})]})})},qe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,324)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(Je,{})}),document.getElementById("root")),qe()}},[[269,1,2]]]);
//# sourceMappingURL=main.15782a2e.chunk.js.map